// Code generated by pg-bindings generator. DO NOT EDIT.
package schema

import (
	"github.com/stackrox/rox/generated/storage"
	"github.com/stackrox/rox/pkg/protocompat"
)

// ConvertDeploymentFromProto converts a `*storage.Deployment` to Gorm model
func ConvertDeploymentFromProto(obj *storage.Deployment) (*Deployments, error) {
	serialized, err := obj.MarshalVT()
	if err != nil {
		return nil, err
	}
	model := &Deployments{
		ID:                            obj.GetId(),
		Name:                          obj.GetName(),
		Type:                          obj.GetType(),
		Namespace:                     obj.GetNamespace(),
		NamespaceID:                   obj.GetNamespaceId(),
		OrchestratorComponent:         obj.GetOrchestratorComponent(),
		Labels:                        obj.GetLabels(),
		PodLabels:                     obj.GetPodLabels(),
		Created:                       protocompat.NilOrTime(obj.GetCreated()),
		ClusterID:                     obj.GetClusterId(),
		ClusterName:                   obj.GetClusterName(),
		Annotations:                   obj.GetAnnotations(),
		Priority:                      obj.GetPriority(),
		ServiceAccount:                obj.GetServiceAccount(),
		ServiceAccountPermissionLevel: obj.GetServiceAccountPermissionLevel(),
		RiskScore:                     obj.GetRiskScore(),
		PlatformComponent:             obj.GetPlatformComponent(),
		Serialized:                    serialized,
	}
	return model, nil
}

// ConvertDeploymentToProto converts Gorm model `Deployments` to its protobuf type object
func ConvertDeploymentToProto(m *Deployments) (*storage.Deployment, error) {
	var msg storage.Deployment
	if err := msg.UnmarshalVTUnsafe(m.Serialized); err != nil {
		return nil, err
	}
	return &msg, nil
}
